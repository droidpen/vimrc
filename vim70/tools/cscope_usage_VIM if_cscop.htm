<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0053)http://ianua.initd.org/vimit/vim70/html/if_cscop.html -->
<HTML><HEAD><TITLE>VIM: if_cscop</TITLE>
<META http-equiv=Content-Type content="text/html; charset=utf-8"><LINK 
href="vim-stylesheet.css" type=text/css rel=stylesheet>
<META content="MSHTML 6.00.2900.2912" name=GENERATOR></HEAD>
<BODY>
<H2>IF_CSCOP</H2><PRE><B class=vimtag>*<A name=if_cscop.txt>if_cscop.txt</A>*</B>  For Vim version 7.0.  Last change: 2005 Mar 29


		  VIM REFERENCE MANUAL    by Andy Kahn

							<B class=vimtag>*<A name=cscope>cscope</A>*</B> <B class=vimtag>*<A name=Cscope>Cscope</A>*</B>
This document explains how to use Vim's cscope interface.

Cscope is a tool like ctags, but think of it as ctags on steroids since it
does a lot more than what ctags provides.  In Vim, jumping to a result from
a cscope query is just like jumping to any tag; it is saved on the tag stack
so that with the right keyboard mappings, you can jump back and forth between
functions as you normally would with |<A href="http://ianua.initd.org/vimit/vim70/html/tagsrch.html#tags">tags</A>|.

1. Cscope introduction		|<A href="http://ianua.initd.org/vimit/vim70/html/if_cscop.html#cscope-intro">cscope-intro</A>|
2. Cscope related commands	|<A href="http://ianua.initd.org/vimit/vim70/html/if_cscop.html#cscope-commands">cscope-commands</A>|
3. Cscope options		|<A href="http://ianua.initd.org/vimit/vim70/html/if_cscop.html#cscope-options">cscope-options</A>|
4. How to use cscope in Vim	|<A href="http://ianua.initd.org/vimit/vim70/html/if_cscop.html#cscope-howtouse">cscope-howtouse</A>|
5. Limitations			|<A href="http://ianua.initd.org/vimit/vim70/html/if_cscop.html#cscope-limitations">cscope-limitations</A>|
6. Suggested usage		|<A href="http://ianua.initd.org/vimit/vim70/html/if_cscop.html#cscope-suggestions">cscope-suggestions</A>|
7. Availability &amp; Information	|<A href="http://ianua.initd.org/vimit/vim70/html/if_cscop.html#cscope-info">cscope-info</A>|

This is currently for Unix and Win32 only.
<CODE class=special>{Vi does not have any of these commands}</CODE>

</PRE>
<HR>
<PRE>1. Cscope introduction					<B class=vimtag>*<A name=cscope-intro>cscope-intro</A>*</B>

The following text is taken from a version of the cscope man page:

</PRE>
<HR>
<PRE>  Cscope is an interactive screen-oriented tool that helps you:

       Learn how a C program works without endless flipping through a thick
       listing.

       Locate the section of code to change to fix a bug without having to
       learn the entire program.

       Examine the effect of a proposed change such as adding a value to an
       enum variable.

       Verify that a change has been made in all source files such as adding
       an argument to an existing function.

       Rename a global variable in all source files.

       Change a constant to a preprocessor symbol in selected lines of files.

  It is designed to answer questions like:
       Where is this symbol used?
       Where is it defined?
       Where did this variable get its value?
       What is this global symbol's definition?
       Where is this function in the source files?
       What functions call this function?
       What functions are called by this function?
       Where does the message "out of space" come from?
       Where is this source file in the directory structure?
       What files include this header file?

  Cscope answers these questions from a symbol database that it builds the
  first time it is used on the source files.  On a subsequent call, cscope
  rebuilds the database only if a source file has changed or the list of
  source files is different.  When the database is rebuilt the data for the
  unchanged files is copied from the old database, which makes rebuilding
  much faster than the initial build.

</PRE>
<HR>
<PRE>When cscope is normally invoked, you will get a full-screen selection
screen allowing you to make a query for one of the above questions.
However, once a match is found to your query and you have entered your
text editor to edit the source file containing match, you cannot simply
jump from tag to tag as you normally would with vi's Ctrl-] or :tag
command.

Vim's cscope interface is done by invoking cscope with its line-oriented
interface, and then parsing the output returned from a query.  The end
result is that cscope query results become just like regular tags, so
you can jump to them just like you do with normal tags (Ctrl-] or :tag)
and then go back by popping off the tagstack with Ctrl-T.  (Please <CODE class=note>note</CODE>
however, that you don't actually jump to a cscope tag simply by doing
Ctrl-] or :tag without remapping these commands or setting an option.
See the remaining sections on how the cscope interface works and for
suggested use.)


</PRE>
<HR>
<PRE>2. Cscope related commands				<B class=vimtag>*<A name=cscope-commands>cscope-commands</A>*</B>

		<B class=vimtag>*<A name=:cscope>:cscope</A>*</B> <B class=vimtag>*<A name=:cs>:cs</A>*</B> <B class=vimtag>*<A name=:scs>:scs</A>*</B> <B class=vimtag>*<A name=:scscope>:scscope</A>*</B> <B class=vimtag>*<A name=E259>E259</A>*</B> <B class=vimtag>*<A name=E262>E262</A>*</B> <B class=vimtag>*<A name=E561>E561</A>*</B> <B class=vimtag>*<A name=E560>E560</A>*</B>
All cscope commands are accessed through suboptions to the main cscope
command ":cscope".  The shortest abbreviation is ":cs".  The ":scscope"
command does the same and also splits the window (short: "scs").

The available subcommands are:

			<B class=vimtag>*<A name=E563>E563</A>*</B> <B class=vimtag>*<A name=E564>E564</A>*</B> <B class=vimtag>*<A name=E566>E566</A>*</B> <B class=vimtag>*<A name=E568>E568</A>*</B> <B class=vimtag>*<A name=E569>E569</A>*</B> <B class=vimtag>*<A name=E622>E622</A>*</B> <B class=vimtag>*<A name=E623>E623</A>*</B>
			<B class=vimtag>*<A name=E625>E625</A>*</B> <B class=vimtag>*<A name=E626>E626</A>*</B> <B class=vimtag>*<A name=E609>E609</A>*</B>
    add   : Add a new cscope database/connection.

	USAGE	:cs add <CODE class=special>{file|dir}</CODE> [pre-path] [flags]

	    [pre-path] is the pathname used with the -P command to cscope.

	    [flags] are any additional flags you want to pass to cscope.

	EXAMPLES
<CODE class=example>	    :cscope add /usr/local/cdb/cscope.out</CODE>
<CODE class=example>	    :cscope add /projects/vim/cscope.out /usr/local/vim</CODE>
<CODE class=example>	    :cscope add cscope.out /usr/local/vim -C</CODE>

				      <B class=vimtag>*<A name=cscope-find>cscope-find</A>*</B> <B class=vimtag>*<A name=cs-find>cs-find</A>*</B>
						<B class=vimtag>*<A name=E565>E565</A>*</B> <B class=vimtag>*<A name=E567>E567</A>*</B>
    find  : Query cscope.  All cscope query options are available
	    except option #5 ("Change this grep pattern").

	USAGE	:cs find <CODE class=special>{querytype}</CODE> <CODE class=special>{name}</CODE>

	    <CODE class=special>{querytype}</CODE> corresponds to the actual cscope line
	    interface numbers as well as default nvi commands:

		0 or s: Find this C symbol
		1 or g: Find this definition
		2 or d: Find functions called by this function
		3 or c: Find functions calling this function
		4 or t: Find this text string
		6 or e: Find this egrep pattern
		7 or f: Find this file
		8 or i: Find files #including this file

	EXAMPLES
<CODE class=example>	    :cscope find c vim_free</CODE>
<CODE class=example>	    :cscope find 3 vim_free</CODE>

	    These two examples perform the same query.
<CODE class=example></CODE>
<CODE class=example>	    :cscope find 0 DEFAULT_TERM</CODE>

	    Executing this example on the source code for Vim 5.1 produces the
	    following output:

	    Cscope tag: DEFAULT_TERM
	       #   line  filename / context / line
	       1   1009  vim-5.1-gtk/src/term.c <CODE class=special>&lt;&lt;GLOBAL&gt;</CODE>&gt;
			 #define DEFAULT_TERM (char_u *)"amiga"
	       2   1013  vim-5.1-gtk/src/term.c <CODE class=special>&lt;&lt;GLOBAL&gt;</CODE>&gt;
			 #define DEFAULT_TERM (char_u *)"win32"
	       3   1017  vim-5.1-gtk/src/term.c <CODE class=special>&lt;&lt;GLOBAL&gt;</CODE>&gt;
			 #define DEFAULT_TERM (char_u *)"pcterm"
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      @   4  Ӆ     pd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         pd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             pd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             pd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             pd                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              